import{j as w,r as x,k as s,l as t,n as y,p as m,d as o,_ as v,X as u,ao as F,q as I,t as h,u as l,aj as Q}from"./index.fd322d53.js";import{Q as k}from"./layout.f54ea114.js";import{Q as n,a as P}from"./QTable.e67cb383.js";import{b as T}from"./useRequisitions.cd31b813.js";import{T as V}from"./TablePage.43569ace.js";import{F as N}from"./FilePreview.41e280fe.js";import{u as B}from"./useMoney.dbc60660.js";import"./use-dark.724c4dc5.js";import"./planeacion.api.6ff597f7.js";import"./index.2cf0d985.js";import"./format.971bd004.js";import"./scroll.86be79e5.js";import"./QList.95d5dd46.js";import"./QSelect.7b234108.js";import"./QChip.a1dbb620.js";import"./utils.esm.ed5e8086.js";import"./QItemLabel.c8d4dbcb.js";import"./QCheckbox.09c2ac40.js";import"./useMutation.esm.35cc447d.js";import"./mutation.esm.8f60915a.js";import"./QCard.b959a5ba.js";import"./QPage.5abcef1e.js";import"./plugin-vue_export-helper.21dcd24c.js";import"./QTooltip.57ec7213.js";import"./QCardSection.64ffc5d5.js";import"./QImg.db37c726.js";import"./QSpace.a559b592.js";const ne=w({__name:"IndexPage",setup(C){const p="https://nestjs-boilerplate-production.up.railway.app",{isLoading:d,requisitions:c}=T(),{currencyFormat:f}=B(),b=[{name:"consecutiveId",label:"ID",field:"consecutiveId",sortable:!1,required:!0},{name:"requisition_number",field:"requisition_number",label:"N\xFAmero de requisici\xF3n",align:"center",sortable:!0},{name:"area",field:r=>{var i;return(i=r.area)==null?void 0:i.description},label:"Departamento",align:"left",sortable:!0},{name:"preparation_date",field:"preparation_date",label:"Fecha de elaboraci\xF3n",sortable:!0,align:"left"},{name:"processing_date",field:"processing_date",label:"Fecha de tr\xE1mite",sortable:!0,align:"left"},{name:"total",field:r=>f(+r.estimated_amount),label:"Total",sortable:!0,align:"right"},{name:"file",field:"file",label:"Archivo",sortable:!1,align:"left"}],a=x("");function _({href:r}){return{to:r}}return(r,i)=>{const g=y("router-link");return m(),s(V,null,{"card-body":t(()=>[o(P,{columns:b,filter:a.value,loading:l(d),rows:l(c),"rows-per-page-options":[20,30,40,50],title:"Requisiciones"},{"top-right":t(()=>[o(k,{modelValue:a.value,"onUpdate:modelValue":i[0]||(i[0]=e=>a.value=e),class:"q-mr-xs",clearable:"",debounce:"300",dense:"",outlined:"",placeholder:"Buscar"},{append:t(()=>[o(v,{name:"search"})]),_:1},8,["modelValue"]),o(u,{color:"primary",icon:"o_add",label:"Nueva requisici\xF3n",outline:"",size:"md",to:{name:"requisitions.create"}},null,8,["to"])]),"body-cell-requisition_number":t(e=>[o(n,{props:e},{default:t(()=>[o(g,{custom:"",to:{name:"requisitions.edit",params:{id:e.row.id}}},{default:t(q=>[o(u,F(_(q),{color:"primary",flat:"",label:e.row.requisition_number,size:"md"}),null,16,["label"])]),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell-consecutiveId":t(e=>[o(n,{props:e},{default:t(()=>[I(h((e.rowIndex+1).toString()),1)]),_:2},1032,["props"])]),"body-cell-file":t(e=>[o(n,{props:e},{default:t(()=>[e.row.file?(m(),s(N,{key:0,"file-url":`${l(p)}/api/files/requisitions/${e.row.id}/${e.row.file}`},null,8,["file-url"])):Q("",!0)]),_:2},1032,["props"])]),_:1},8,["filter","loading","rows"])]),_:1})}}});export{ne as default};
