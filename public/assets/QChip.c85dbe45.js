import{v as ae,r as F,c as R,w,z as ye,h as C,$ as J,x as pe,g as H,aB as ge,i as be,M as Re,aO as Se,aP as Ce,aQ as qe,u as L,aI as xe,aJ as Qe,ai as ke,_ as K,aR as Ie,aS as Oe,a5 as we}from"./index.e80209f7.js";import{u as Ee,i as Te,b as Be,c as Fe,j as _e,k as De,l as Pe,d as Ue,e as Me,r as G,m as X,f as Ae,n as ze,o as Le}from"./format.409cdf28.js";import{a as Ke}from"./planeacion.api.11872094.js";import{S as je,x as Y,n as He,w as Z,v as ee,t as Ve,f as Ne,b as We,r as te,i as $e,a as Je,u as Ge,y as se,s as Xe,q as Ye}from"./utils.esm.81184f94.js";import{u as Ze,a as et}from"./use-dark.0aa077e8.js";let B=0;const tt={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},ie={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]};var ft=ae({name:"QDialog",inheritAttrs:!1,props:{...Ee,...Te,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator:e=>e==="standard"||["top","bottom","left","right"].includes(e)}},emits:[...Be,"shake","click","escapeKey"],setup(e,{slots:s,emit:t,attrs:i}){const l=H(),{proxy:{$q:u}}=l,r=F(null),o=F(!1),h=F(!1);let c=null,f=null,d,m;const p=R(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:S}=Ae(),{registerTimeout:b}=Fe(),{registerTick:n,removeTick:q}=_e(),{transitionProps:E,transitionStyle:g}=De(e,()=>ie[e.position][0],()=>ie[e.position][1]),{showPortal:x,hidePortal:Q,portalIsAccessible:k,renderPortal:N}=Pe(l,r,ve,"dialog"),{hide:v}=Ue({showing:o,hideOnRouteChange:p,handleShow:ce,handleHide:de,processOnMount:!0}),{addToHistory:I,removeFromHistory:_}=Me(o,v,p),le=R(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${tt[e.position]}`+(h.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),T=R(()=>o.value===!0&&e.seamless!==!0),ue=R(()=>e.autoClose===!0?{onClick:he}:{}),oe=R(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${T.value===!0?"modal":"seamless"}`,i.class]);w(()=>e.maximized,a=>{o.value===!0&&U(a)}),w(T,a=>{S(a),a===!0?(ze(M),Le(P)):(G(M),X(P))});function ce(a){I(),f=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,U(e.maximized),x(),h.value=!0,e.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),n(O)):q(),b(()=>{if(l.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:y,bottom:A}=document.activeElement.getBoundingClientRect(),{innerHeight:$}=window,z=window.visualViewport!==void 0?window.visualViewport.height:$;y>0&&A>z/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-z,A>=$?1/0:Math.ceil(document.scrollingElement.scrollTop+A-z/2))),document.activeElement.scrollIntoView()}m=!0,r.value.click(),m=!1}x(!0),h.value=!1,t("show",a)},e.transitionDuration)}function de(a){q(),_(),W(!0),h.value=!0,Q(),f!==null&&(((a&&a.type.indexOf("key")===0?f.closest('[tabindex]:not([tabindex^="-"])'):void 0)||f).focus(),f=null),b(()=>{Q(!0),h.value=!1,t("hide",a)},e.transitionDuration)}function O(a){Ke(()=>{let y=r.value;y===null||y.contains(document.activeElement)===!0||(y=(a!==""?y.querySelector(a):null)||y.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||y.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||y.querySelector("[autofocus], [data-autofocus]")||y,y.focus({preventScroll:!0}))})}function D(a){a&&typeof a.focus=="function"?a.focus({preventScroll:!0}):O(),t("shake");const y=r.value;y!==null&&(y.classList.remove("q-animate--scale"),y.classList.add("q-animate--scale"),c!==null&&clearTimeout(c),c=setTimeout(()=>{c=null,r.value!==null&&(y.classList.remove("q-animate--scale"),O())},170))}function P(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&D():(t("escapeKey"),v()))}function W(a){c!==null&&(clearTimeout(c),c=null),(a===!0||o.value===!0)&&(U(!1),e.seamless!==!0&&(S(!1),G(M),X(P))),a!==!0&&(f=null)}function U(a){a===!0?d!==!0&&(B<1&&document.body.classList.add("q-body--dialog"),B++,d=!0):d===!0&&(B<2&&document.body.classList.remove("q-body--dialog"),B--,d=!1)}function he(a){m!==!0&&(v(a),t("click",a))}function fe(a){e.persistent!==!0&&e.noBackdropDismiss!==!0?v(a):e.noShake!==!0&&D(a.relatedTarget)}function M(a){e.allowFocusOutside!==!0&&k.value===!0&&ge(r.value,a.target)!==!0&&O('[tabindex]:not([tabindex="-1"])')}Object.assign(l.proxy,{focus:O,shake:D,__updateRefocusTarget(a){f=a||null}}),ye(W);const me=u.platform.is.ios===!0||u.platform.is.safari?"onClick":"onFocusin";function ve(){return C("div",{role:"dialog","aria-modal":T.value===!0?"true":"false",...i,class:oe.value},[C(J,{name:"q-transition--fade",appear:!0},()=>T.value===!0?C("div",{class:"q-dialog__backdrop fixed-full",style:g.value,"aria-hidden":"true",tabindex:-1,[me]:fe}):null),C(J,E.value,()=>o.value===!0?C("div",{ref:r,class:le.value,style:g.value,tabindex:-1,...ue.value},pe(s.default)):null)])}return N}});class st extends je{constructor(s,t){super(),this.client=s,this.options=t,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(t)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.length===1&&(this.currentQuery.addObserver(this),ne(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.listeners.length||this.destroy()}shouldFetchOnReconnect(){return j(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return j(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=[],this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(s,t){const i=this.options,l=this.currentQuery;if(this.options=this.client.defaultQueryOptions(s),Y(i,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled!="undefined"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=i.queryKey),this.updateQuery();const u=this.hasListeners();u&&re(this.currentQuery,l,this.options,i)&&this.executeFetch(),this.updateResult(t),u&&(this.currentQuery!==l||this.options.enabled!==i.enabled||this.options.staleTime!==i.staleTime)&&this.updateStaleTimeout();const r=this.computeRefetchInterval();u&&(this.currentQuery!==l||this.options.enabled!==i.enabled||r!==this.currentRefetchInterval)&&this.updateRefetchInterval(r)}getOptimisticResult(s){const t=this.client.getQueryCache().build(this.client,s);return this.createResult(t,s)}getCurrentResult(){return this.currentResult}trackResult(s){const t={};return Object.keys(s).forEach(i=>{Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(i),s[i])})}),t}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:s,...t}={}){return this.fetch({...t,meta:{refetchPage:s}})}fetchOptimistic(s){const t=this.client.defaultQueryOptions(s),i=this.client.getQueryCache().build(this.client,t);return i.isFetchingOptimistic=!0,i.fetch().then(()=>this.createResult(i,t))}fetch(s){var t;return this.executeFetch({...s,cancelRefetch:(t=s.cancelRefetch)!=null?t:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(s){this.updateQuery();let t=this.currentQuery.fetch(this.options,s);return s!=null&&s.throwOnError||(t=t.catch(He)),t}updateStaleTimeout(){if(this.clearStaleTimeout(),Z||this.currentResult.isStale||!ee(this.options.staleTime))return;const t=Ve(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},t)}computeRefetchInterval(){var s;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(s=this.options.refetchInterval)!=null?s:!1}updateRefetchInterval(s){this.clearRefetchInterval(),this.currentRefetchInterval=s,!(Z||this.options.enabled===!1||!ee(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||Ne.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(s,t){const i=this.currentQuery,l=this.options,u=this.currentResult,r=this.currentResultState,o=this.currentResultOptions,h=s!==i,c=h?s.state:this.currentQueryInitialState,f=h?this.currentResult:this.previousQueryResult,{state:d}=s;let{dataUpdatedAt:m,error:p,errorUpdatedAt:S,fetchStatus:b,status:n}=d,q=!1,E=!1,g;if(t._optimisticResults){const v=this.hasListeners(),I=!v&&ne(s,t),_=v&&re(s,i,t,l);(I||_)&&(b=We(s.options.networkMode)?"fetching":"paused",m||(n="loading")),t._optimisticResults==="isRestoring"&&(b="idle")}if(t.keepPreviousData&&!d.dataUpdatedAt&&f!=null&&f.isSuccess&&n!=="error")g=f.data,m=f.dataUpdatedAt,n=f.status,q=!0;else if(t.select&&typeof d.data!="undefined")if(u&&d.data===(r==null?void 0:r.data)&&t.select===this.selectFn)g=this.selectResult;else try{this.selectFn=t.select,g=t.select(d.data),g=te(u==null?void 0:u.data,g,t),this.selectResult=g,this.selectError=null}catch(v){this.selectError=v}else g=d.data;if(typeof t.placeholderData!="undefined"&&typeof g=="undefined"&&n==="loading"){let v;if(u!=null&&u.isPlaceholderData&&t.placeholderData===(o==null?void 0:o.placeholderData))v=u.data;else if(v=typeof t.placeholderData=="function"?t.placeholderData():t.placeholderData,t.select&&typeof v!="undefined")try{v=t.select(v),this.selectError=null}catch(I){this.selectError=I}typeof v!="undefined"&&(n="success",g=te(u==null?void 0:u.data,v,t),E=!0)}this.selectError&&(p=this.selectError,g=this.selectResult,S=Date.now(),n="error");const x=b==="fetching",Q=n==="loading",k=n==="error";return{status:n,fetchStatus:b,isLoading:Q,isSuccess:n==="success",isError:k,isInitialLoading:Q&&x,data:g,dataUpdatedAt:m,error:p,errorUpdatedAt:S,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:x,isRefetching:x&&!Q,isLoadingError:k&&d.dataUpdatedAt===0,isPaused:b==="paused",isPlaceholderData:E,isPreviousData:q,isRefetchError:k&&d.dataUpdatedAt!==0,isStale:V(s,t),refetch:this.refetch,remove:this.remove}}updateResult(s){const t=this.currentResult,i=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,Y(i,t))return;this.currentResult=i;const l={cache:!0},u=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options;if(r==="all"||!r&&!this.trackedProps.size)return!0;const o=new Set(r!=null?r:this.trackedProps);return this.options.useErrorBoundary&&o.add("error"),Object.keys(this.currentResult).some(h=>{const c=h;return this.currentResult[c]!==t[c]&&o.has(c)})};(s==null?void 0:s.listeners)!==!1&&u()&&(l.listeners=!0),this.notify({...l,...s})}updateQuery(){const s=this.client.getQueryCache().build(this.client,this.options);if(s===this.currentQuery)return;const t=this.currentQuery;this.currentQuery=s,this.currentQueryInitialState=s.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(t==null||t.removeObserver(this),s.addObserver(this))}onQueryUpdate(s){const t={};s.type==="success"?t.onSuccess=!s.manual:s.type==="error"&&!$e(s.error)&&(t.onError=!0),this.updateResult(t),this.hasListeners()&&this.updateTimers()}notify(s){Je.batch(()=>{if(s.onSuccess){var t,i,l,u;(t=(i=this.options).onSuccess)==null||t.call(i,this.currentResult.data),(l=(u=this.options).onSettled)==null||l.call(u,this.currentResult.data,null)}else if(s.onError){var r,o,h,c;(r=(o=this.options).onError)==null||r.call(o,this.currentResult.error),(h=(c=this.options).onSettled)==null||h.call(c,void 0,this.currentResult.error)}s.listeners&&this.listeners.forEach(f=>{f(this.currentResult)}),s.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function it(e,s){return s.enabled!==!1&&!e.state.dataUpdatedAt&&!(e.state.status==="error"&&s.retryOnMount===!1)}function ne(e,s){return it(e,s)||e.state.dataUpdatedAt>0&&j(e,s,s.refetchOnMount)}function j(e,s,t){if(s.enabled!==!1){const i=typeof t=="function"?t(e):t;return i==="always"||i!==!1&&V(e,s)}return!1}function re(e,s,t,i){return t.enabled!==!1&&(e!==s||i.enabled===!1)&&(!t.suspense||e.state.status!=="error")&&V(e,t)}function V(e,s){return e.isStaleByTime(s.staleTime)}function nt(e=""){var s;if(!((s=H())==null?void 0:s.proxy))throw new Error("vue-query hooks can only be used inside setup() function.");const i=Ge(e),l=be(i);if(!l)throw new Error("No 'queryClient' found in Vue context, use 'VueQueryPlugin' to properly initialize the library.");return l}function rt(e,s,t={},i={}){var l;const u=R(()=>at(s,t,i)),r=(l=u.value.queryClient)!=null?l:nt(u.value.queryClientKey),o=R(()=>{const m=r.defaultQueryOptions(u.value);return m._optimisticResults=r.isRestoring.value?"isRestoring":"optimistic",m}),h=new e(r,o.value),c=Re(h.getCurrentResult()),f=F(()=>{});w(r.isRestoring,m=>{m||(f.value(),f.value=h.subscribe(p=>{se(c,p)}))},{immediate:!0}),w(o,()=>{h.setOptions(o.value),se(c,h.getCurrentResult())},{deep:!0}),Se(()=>{f.value()});const d=()=>new Promise(m=>{let p=()=>{};const S=()=>{if(o.value.enabled!==!1){const b=h.getOptimisticResult(o.value);b.isStale?(p(),m(h.fetchOptimistic(o.value))):(p(),m(b))}};S(),p=w(o,S,{deep:!0})});return{...Ce(qe(c)),suspense:d}}function at(e,s={},t={}){const i=L(e),l=L(s),u=L(t);let r=i;return Xe(i)?typeof l=="function"?r={...u,queryKey:i,queryFn:l}:r={...l,queryKey:i}:r=i,Ye(r)}function mt(e,s,t){const i=rt(st,e,s,t);return{...i,refetch:i.refetch.value,remove:i.remove.value}}const lt={xs:8,sm:10,md:14,lg:20,xl:24};var vt=ae({name:"QChip",props:{...Ze,...xe,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:s,emit:t}){const{proxy:{$q:i}}=H(),l=et(e,i),u=Qe(e,lt),r=R(()=>e.selected===!0||e.icon!==void 0),o=R(()=>e.selected===!0?e.iconSelected||i.iconSet.chip.selected:e.icon),h=R(()=>e.iconRemove||i.iconSet.chip.remove),c=R(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),f=R(()=>{const n=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(n?` text-${n} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(c.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(l.value===!0?" q-chip--dark q-dark":"")}),d=R(()=>{const n=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},q={...n,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||i.lang.label.remove};return{chip:n,remove:q}});function m(n){n.keyCode===13&&p(n)}function p(n){e.disable||(t("update:selected",!e.selected),t("click",n))}function S(n){(n.keyCode===void 0||n.keyCode===13)&&(we(n),e.disable===!1&&(t("update:modelValue",!1),t("remove")))}function b(){const n=[];c.value===!0&&n.push(C("div",{class:"q-focus-helper"})),r.value===!0&&n.push(C(K,{class:"q-chip__icon q-chip__icon--left",name:o.value}));const q=e.label!==void 0?[C("div",{class:"ellipsis"},[e.label])]:void 0;return n.push(C("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},Ie(s.default,q))),e.iconRight&&n.push(C(K,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&n.push(C(K,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:h.value,...d.value.remove,onClick:S,onKeyup:S})),n}return()=>{if(e.modelValue===!1)return;const n={class:f.value,style:u.value};return c.value===!0&&Object.assign(n,d.value.chip,{onClick:p,onKeyup:m}),ke("div",n,b(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[Oe,e.ripple]])}}});export{ft as Q,nt as a,vt as b,mt as u};
