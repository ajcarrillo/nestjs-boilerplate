import{j as w,r as x,k as s,l as t,n as y,p as m,d as o,_ as v,X as u,ao as F,q as I,t as h,u as l,aj as Q}from"./index.e2638eb4.js";import{Q as k}from"./layout.b48f6ca2.js";import{Q as n,a as P}from"./QTable.71f78e09.js";import{b as T}from"./useRequisitions.b145ad4a.js";import{T as V}from"./TablePage.c13247da.js";import{F as N}from"./FilePreview.15041e1a.js";import{u as B}from"./useMoney.dbc60660.js";import"./use-dark.eb190f4a.js";import"./planeacion.api.4718394d.js";import"./index.2cf0d985.js";import"./format.c4cd2b11.js";import"./scroll.28522c71.js";import"./QList.9bbd2c21.js";import"./QSelect.8f3e200a.js";import"./QChip.e0f21080.js";import"./utils.esm.7ac9ce6f.js";import"./QItemLabel.9891a74a.js";import"./QCheckbox.b1850863.js";import"./useMutation.esm.7ab5810a.js";import"./mutation.esm.6f8cd676.js";import"./QCard.be8ff39f.js";import"./QPage.c2fef450.js";import"./plugin-vue_export-helper.21dcd24c.js";import"./QTooltip.5f4d8a67.js";import"./QCardSection.94464a72.js";import"./QImg.39e45ba0.js";import"./QSpace.62bbc7da.js";const ne=w({__name:"IndexPage",setup(C){const p="https://nestjs-boilerplate-production.up.railway.app",{isLoading:d,requisitions:c}=T(),{currencyFormat:f}=B(),b=[{name:"consecutiveId",label:"ID",field:"consecutiveId",sortable:!1,required:!0},{name:"requisition_number",field:"requisition_number",label:"N\xFAmero de requisici\xF3n",align:"center",sortable:!0},{name:"area",field:r=>{var i;return(i=r.area)==null?void 0:i.description},label:"Departamento",align:"left",sortable:!0},{name:"preparation_date",field:"preparation_date",label:"Fecha de elaboraci\xF3n",sortable:!0,align:"left"},{name:"processing_date",field:"processing_date",label:"Fecha de tr\xE1mite",sortable:!0,align:"left"},{name:"total",field:r=>f(+r.estimated_amount),label:"Total",sortable:!0,align:"right"},{name:"file",field:"file",label:"Archivo",sortable:!1,align:"left"}],a=x("");function _({href:r}){return{to:r}}return(r,i)=>{const g=y("router-link");return m(),s(V,null,{"card-body":t(()=>[o(P,{columns:b,filter:a.value,loading:l(d),rows:l(c),"rows-per-page-options":[20,30,40,50],title:"Requisiciones"},{"top-right":t(()=>[o(k,{modelValue:a.value,"onUpdate:modelValue":i[0]||(i[0]=e=>a.value=e),class:"q-mr-xs",clearable:"",debounce:"300",dense:"",outlined:"",placeholder:"Buscar"},{append:t(()=>[o(v,{name:"search"})]),_:1},8,["modelValue"]),o(u,{color:"primary",icon:"o_add",label:"Nueva requisici\xF3n",outline:"",size:"md",to:{name:"requisitions.create"}},null,8,["to"])]),"body-cell-requisition_number":t(e=>[o(n,{props:e},{default:t(()=>[o(g,{custom:"",to:{name:"requisitions.edit",params:{id:e.row.id}}},{default:t(q=>[o(u,F(_(q),{color:"primary",flat:"",label:e.row.requisition_number,size:"md"}),null,16,["label"])]),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell-consecutiveId":t(e=>[o(n,{props:e},{default:t(()=>[I(h((e.rowIndex+1).toString()),1)]),_:2},1032,["props"])]),"body-cell-file":t(e=>[o(n,{props:e},{default:t(()=>[e.row.file?(m(),s(N,{key:0,"file-url":`${l(p)}/api/files/requisitions/${e.row.id}/${e.row.file}`},null,8,["file-url"])):Q("",!0)]),_:2},1032,["props"])]),_:1},8,["filter","loading","rows"])]),_:1})}}});export{ne as default};
