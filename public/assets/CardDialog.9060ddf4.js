import{p as d,l as f}from"./layout.e5b39b81.js";import{u as h,a as g,b as Q,Q as P}from"./QSelect.a01fc3f8.js";import{j as i,r as C,p,k as V,l as c,d as s,_ as D,s as v,an as O,X as _,ag as w,t as E,c as Y,W as k,aR as y,u as S,b as $}from"./index.0b175f01.js";import{Q as x,a as B,C as M}from"./ClosePopup.ba470207.js";import{a as T}from"./QForm.e02b1b3f.js";import{Q as b}from"./QSpace.c1f9a46e.js";import{Q as q,a as F}from"./QCard.8418aa13.js";import{c as N}from"./format.bc6b5d0a.js";var m={getPurchaseOrders(){return d.get("/purchase-orders")},createPurchaseOrder(e){return d.post("/purchase-orders",e)},uploadFile(e,a){return d.post(`/files/purchase-orders/${e}`,a,{headers:{"Content-Type":"multipart/form-data"}})},getPurchaseDictionary(){return d.get("/purchase-orders/dictionary")}};const I=async()=>{const{data:e}=await m.getPurchaseOrders();return e},L=async e=>{const{data:a}=await m.createPurchaseOrder(e);return a},R=async()=>{const{data:e}=await m.getPurchaseDictionary();return e},ee=()=>{const{isLoading:e,isError:a,data:t,isFetching:r}=h({queryKey:["purchase-orders"],queryFn:I,staleTime:6e4});return{isLoading:e,isError:a,orders:t,isFetching:r}},ae=()=>{const e=g(),{isLoading:a,isError:t,mutateAsync:r,data:l}=Q({mutationFn:L,onSuccess:()=>{e.invalidateQueries(["purchase-orders"]),f.showSuccessNotification("Orden de compra creada con \xE9xito")},onError:()=>{f.showErrorNotification("Error al crear orden de compra")}});return{purchaseOrder:l,createPurchaseOrder:r,isLoading:a,isError:t}},re=()=>{const{isLoading:e,isError:a,data:t}=h({queryKey:["purchase-dictionary"],queryFn:R,staleTime:6e4});return{isLoading:e,isError:a,dictionary:t}},U={class:"row items-center justify-end"},te=i({__name:"DatePicker",props:{modelValue:{default:""},format:{default:"YYYY-MM-DD"}},emits:["update:modelValue"],setup(e,{emit:a}){const r=C(e.modelValue),l=o=>{r.value=o,a("update:modelValue",o)};return(o,n)=>(p(),V(T,{modelValue:r.value,"onUpdate:modelValue":n[1]||(n[1]=u=>r.value=u),dense:"",outlined:"",readonly:"",onInput:n[2]||(n[2]=u=>l(u.target.value))},{append:c(()=>[s(D,{class:"cursor-pointer",name:"event"},{default:c(()=>[s(x,{cover:"","transition-hide":"scale","transition-show":"scale"},{default:c(()=>[s(B,{modelValue:r.value,"onUpdate:modelValue":[n[0]||(n[0]=u=>r.value=u),l],mask:"YYYY-MM-DD"},{default:c(()=>[v("div",U,[O(s(_,{color:"primary",flat:"",label:"Close"},null,512),[[M]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"]))}}),j={class:"text-h6"},A=i({__name:"MyCardTitle",props:{title:null},setup(e){return(a,t)=>(p(),w("div",j,E(e.title),1))}}),se=i({__name:"CardDialog",props:{cardTitle:{default:""},modelValue:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:a}){const t=e,r=Y({get(){return t.modelValue},set(o){a("update:modelValue",o)}}),l=()=>{a("update:modelValue",!1)};return(o,n)=>(p(),V(P,{modelValue:S(r),"onUpdate:modelValue":n[0]||(n[0]=u=>$(r)?r.value=u:null)},{default:c(()=>[s(q,{class:k(o.$attrs.class)},{default:c(()=>[s(F,{class:"row items-center"},{default:c(()=>[s(A,{title:t.cardTitle},null,8,["title"]),s(b),y(o.$slots,"close-button",{closeDialog:l},()=>[s(_,{dense:"",flat:"",icon:"close",round:"",onClick:l})])]),_:3}),s(N),y(o.$slots,"default")]),_:3},8,["class"])]),_:3},8,["modelValue"]))}});export{m as P,te as _,ee as a,se as b,re as c,ae as u};
