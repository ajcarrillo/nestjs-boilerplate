import{p as s,l as n}from"./layout.e5b39b81.js";import{u as g,a as y,b as h}from"./QSelect.a01fc3f8.js";import{r as u}from"./index.0b175f01.js";var i={storeDetail(t,e){return s.post(`/budgets/${t}/budget-details`,e)},getBudgetDetailMonthBy(t,e){return s.get(`/budget-details-month?month=${t}&area=${e}`)}};const B=async({budgetId:t,budgetDetail:e})=>{const{data:a}=await i.storeDetail(t,e);return a},p=async(t,e)=>{const{data:a}=await i.getBudgetDetailMonthBy(t,e);return a},M=()=>{const t=y();return{storeBudgetDetailMutation:h({mutationFn:a=>B(a),onSuccess:async(a,o)=>{await t.invalidateQueries(["budget",o.budgetId]),n.showSuccessNotification("El bien se agreg\xF3 al presupuesto con \xE9xito")},onError:()=>{n.showErrorNotification("Error al agregar el bien al presupuesto")}})}},w=()=>{const t=u(""),e=u(),{isLoading:a,data:o,refetch:l,isFetching:c}=g({queryKey:["budgetDetailMonthBy",{month:t,area:e}],queryFn:({queryKey:d})=>{const[m,r]=d;return t.value&&e.value?p(r.month,r.area.alias):[]},refetchOnWindowFocus:!1});return{items:o,refetch:l,isLoading:a,isFetching:c,month:t,area:e}};export{w as a,M as u};
