import{j as B,r as c,k as S,l as a,p as A,d as o,_ as v,X as x,q as y,t as _,u as r}from"./index.6e092ff4.js";import{Q as j}from"./QInput.17ed03ff.js";import{Q}from"./QBtnGroup.6aa46b5f.js";import{Q as T,a as h}from"./QTable.14f5bf59.js";import{T as I}from"./TablePage.1e62c5a7.js";import{p as q}from"./planeacion.api.ebfeb564.js";import{u as w}from"./QChip.2e36ff41.js";import{u as F}from"./useMoney.dbc60660.js";import{u as C}from"./useExportDataToCsv.e23ed0b3.js";import"./layout.8898c8f1.js";import"./use-dark.6f924d7f.js";import"./format.9da510a0.js";import"./scroll.aae0930c.js";import"./QList.a2cdda04.js";import"./QSelect.653a261d.js";import"./QItemLabel.0869f881.js";import"./QCheckbox.9e355c67.js";import"./QCard.c3a0553c.js";import"./QPage.e3c9f7e9.js";import"./plugin-vue_export-helper.21dcd24c.js";import"./index.2cf0d985.js";import"./utils.esm.ed28f146.js";import"./date.f1865af8.js";var V={getAdjustments(){return q.get("/sub-budget-adjustment")}};const k=async()=>(await V.getAdjustments()).data,D=()=>{const{data:u,isFetching:s,isLoading:l}=w({queryKey:["subBudgetAdjustments"],queryFn:k});return{subBudgetAdjustments:u,isFetching:s,isLoading:l}},re=B({__name:"IndexPage",setup(u){const{exportDataToCsv:s}=C(),{currencyFormat:l}=F(),d=[{name:"consecutiveId",label:"ID",field:"consecutiveId",sortable:!1,required:!0},{name:"sourceSubBudgetAction",field:t=>{var e;return(e=t.sourceSubBudget)==null?void 0:e.action.name},label:"Acci\xF3n",align:"left"},{name:"sourceSubBudgetLine",field:t=>{var e;return(e=t.sourceSubBudget)==null?void 0:e.line.name},label:"Partida",align:"left"},{name:"sourceSubBudget",field:t=>{var e;return(e=t.sourceSubBudget)==null?void 0:e.event},label:"Fuente",align:"left"},{name:"targetSubBudgetAction",field:t=>{var e;return(e=t.targetSubBudget)==null?void 0:e.action.name},label:"Acci\xF3n",align:"left"},{name:"targetSubBudgetLine",field:t=>{var e;return(e=t.targetSubBudget)==null?void 0:e.line.name},label:"Partida",align:"left"},{name:"targetSubBudget",field:t=>{var e;return(e=t.targetSubBudget)==null?void 0:e.event},label:"Destino",align:"left"},{name:"amount",field:t=>l(+t.amount),label:"Monto",align:"left"}],{subBudgetAdjustments:p,isFetching:g,isLoading:b}=D(),i=c(""),m=c();function f(){s(m.value.filteredSortedRows,d,"adecuaciones")}return(t,e)=>(A(),S(I,null,{"card-body":a(()=>[o(r(h),{ref_key:"qTableAdjustments",ref:m,columns:d,filter:i.value,loading:r(g)||r(b),rows:r(p),title:"Adecuaciones","wrap-cells":""},{"top-right":a(()=>[o(j,{modelValue:i.value,"onUpdate:modelValue":e[0]||(e[0]=n=>i.value=n),class:"q-mr-xs",clearable:"",debounce:"300",dense:"",outlined:"",placeholder:"Buscar"},{append:a(()=>[o(v,{name:"search"})]),_:1},8,["modelValue"]),o(Q,{unelevated:""},{default:a(()=>[o(x,{color:"primary","icon-right":"archive",label:"Exportar a CSV",onClick:f})]),_:1})]),"body-cell-consecutiveId":a(n=>[o(T,{props:n},{default:a(()=>[y(_(n.rowIndex+1),1)]),_:2},1032,["props"])]),_:1},8,["filter","loading","rows"])]),_:1}))}});export{re as default};
